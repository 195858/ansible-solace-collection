:github_url: https://github.com/solace-iot-team/ansible-solace-collection/tree/main/src/ansible_collections/solace/pubsub_plus/plugins/modules/solace_acl_subscribe_topic_exception.py

.. _solace_acl_subscribe_topic_exception_module:

solace_acl_subscribe_topic_exception -- subscribe topic exception for acl profile
=================================================================================

Configure a subscribe topic exception object for an ACL Profile.

Allows addition and removal of a subscribe topic exception object for an ACL Profile.

Supported versions: [ <=2.13, >=2.14 ].

Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/aclProfile/createMsgVpnAclProfileSubscribeTopicException.

Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/aclProfile/createMsgVpnAclProfileSubscribeException.




Examples
--------

.. code-block:: yaml+jinja

   
   hosts: all
   gather_facts: no
   any_errors_fatal: true
   collections:
   - solace.pubsub_plus
   module_defaults:
       solace_gather_facts:
           host: "{{ sempv2_host }}"
           port: "{{ sempv2_port }}"
           secure_connection: "{{ sempv2_is_secure_connection }}"
           username: "{{ sempv2_username }}"
           password: "{{ sempv2_password }}"
           timeout: "{{ sempv2_timeout }}"
           solace_cloud_api_token: "{{ solace_cloud_api_token | default(omit) }}"
           solace_cloud_service_id: "{{ solace_cloud_service_id | default(omit) }}"
       solace_acl_profile:
           host: "{{ sempv2_host }}"
           port: "{{ sempv2_port }}"
           secure_connection: "{{ sempv2_is_secure_connection }}"
           username: "{{ sempv2_username }}"
           password: "{{ sempv2_password }}"
           timeout: "{{ sempv2_timeout }}"
           msg_vpn: "{{ vpn }}"
       solace_acl_subscribe_topic_exception:
           host: "{{ sempv2_host }}"
           port: "{{ sempv2_port }}"
           secure_connection: "{{ sempv2_is_secure_connection }}"
           username: "{{ sempv2_username }}"
           password: "{{ sempv2_password }}"
           timeout: "{{ sempv2_timeout }}"
           msg_vpn: "{{ vpn }}"
   tasks:
     - name: "Gather Solace Facts"
       solace_gather_facts:
     - set_fact:
           semp_version: "{{ ansible_facts.solace.about.api.sempVersion }}"

     - name: Create ACL Profile
       solace_acl_profile:
           name: "test_ansible_solace"
           settings:
             clientConnectDefaultAction: "disallow"
             publishTopicDefaultAction: "disallow"
             subscribeTopicDefaultAction: "disallow"
           state: present

     - name: Add Subscribe Topic Exceptions to ACL Profile
       solace_acl_subscribe_topic_exception:
           semp_version: "{{ semp_version }}"
           acl_profile_name: "test_ansible_solace"
           name: "test/ansible/solace"
           state: present

     - name: Delete Subscribe Topic Exceptions from ACL Profile
       solace_acl_subscribe_topic_exception:
           semp_version: "{{ semp_version }}"
           acl_profile_name: "test_ansible_solace"
           name: "test/ansible/solace"
           state: absent




Notes
-----

.. note::
   Sempv2 Config Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/.



See Also
--------

.. seealso::

   - :ref:`solace_acl_profile_module`



Parameters
----------

acl_profile_name (required)
  The ACL Profile.

  | **type**: str

host (optional)
  Hostname of Solace Broker.

  | **type**: str
  | **default**: localhost

msg_vpn (required)
  The message vpn.

  | **type**: str

name (required)
  The subscribe topic exception.

  | **type**: str

password (optional)
  Administrator password for Solace Broker.

  | **type**: str
  | **default**: admin

port (optional)
  Management port of Solace Broker.

  | **type**: int
  | **default**: 8080

secure_connection (optional)
  If true, use https rather than http.

  | **type**: bool

semp_version (required)
  The Semp API version of the broker. See :ref:`solace_get_facts <solace_get_facts_module>` for info on how to retrieve the version from the broker.

  | **type**: str

settings (optional)
  JSON dictionary of additional configuration, see Reference documentation.

  | **type**: dict

state (optional)
  Target state.

  | **type**: str
  | **default**: present
  | **choices**: present, absent

timeout (optional)
  Connection timeout in seconds for the http request.

  | **type**: int
  | **default**: 10

topic_syntax (optional)
  The topic syntax.

  | **type**: str
  | **default**: smf

username (optional)
  Administrator username for Solace Broker.

  | **type**: str
  | **default**: admin

x_broker (optional)
  Custom HTTP header with the broker virtual router id, if using a SEMPv2 Proxy/agent infrastructure.

  | **type**: str





Return Values
-------------

response
  The response from the Solace Sempv2 request.

  | **returned**: success
  | **type**: dict
  | **sample**:

  .. code-block:: json

     {
     "aclProfileName": "test_ansible_solace",
     "msgVpnName": "default",
     "subscribeTopicException": "test/ansible/solace",
     "subscribeTopicExceptionSyntax": "smf"
   }


