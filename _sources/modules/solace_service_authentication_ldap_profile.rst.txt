:github_url: https://github.com/solace-iot-team/ansible-solace-collection/tree/main/src/ansible_collections/solace/pubsub_plus/plugins/modules/solace_service_authentication_ldap_profile.py

.. _solace_service_authentication_ldap_profile_module:

solace_service_authentication_ldap_profile -- ldap profile
==========================================================

Configure a LDAP Profile object on a Broker Service.




Examples
--------

.. code-block:: yaml+jinja

   
   hosts: all
   gather_facts: no
   any_errors_fatal: true
   collections:
   - solace.pubsub_plus
   module_defaults:
     solace_service_authentication_ldap_profile:
       host: "{{ sempv2_host }}"
       port: "{{ sempv2_port }}"
       secure_connection: "{{ sempv2_is_secure_connection }}"
       username: "{{ sempv2_username }}"
       password: "{{ sempv2_password }}"
       timeout: "{{ sempv2_timeout }}"
       solace_cloud_api_token: "{{ SOLACE_CLOUD_API_TOKEN if broker_type=='solace_cloud' else omit }}"
       solace_cloud_service_id: "{{ solace_cloud_service_id | default(omit) }}"
   tasks:
   - name: create
     solace_service_authentication_ldap_profile:
       name: foo
       sempv1_settings:
         admin:
           admin-dn: adminDN
         search:
           base-dn:
             distinguished-name: baseDN
           filter:
             filter: searchFilter
         ldap-server:
           ldap-host: ldap://192.167.123.4:389
           server-index: "1"
       state: present

   - name: update
     solace_service_authentication_ldap_profile:
       name: foo
       sempv1_settings:
         admin:
           admin-dn: adminDN
         search:
           base-dn:
             distinguished-name: DC=dev,DC=solace,DC=local
           filter:
             filter: "(SamAccountName= $CLIENT_USERNAME)"
         ldap-server:
           ldap-host: ldap://192.167.123.5:389
           server-index: 2
       state: present

   - name: enable
     solace_service_authentication_ldap_profile:
       name: foo
       state: enabled

   - name: disable
     solace_service_authentication_ldap_profile:
       name: foo
       state: disabled

   - name: delete
     solace_service_authentication_ldap_profile:
       name: foo
       state: absent



Notes
-----

.. note::
   - STATUS: **EXPERIMENTAL**
   - Does not support Solace Cloud API. If required, submit a feature request.
   - Module Sempv1 Config: https://docs.solace.com/Configuring-and-Managing/Configuring-LDAP-Authentication.htm
   - Note: Self-Hosted Broker Service: most operations are NOT idempotent.
   - Sempv2 Config Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/
   - Sempv2 Monitor Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/monitor/index.html#/
   - Sempv2 Action Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/action/index.html#/


See Also
--------

.. seealso::

   - :ref:`solace_get_service_authentication_ldap_profiles_module`



Parameters
----------

host (optional)
  Hostname of Solace Broker.

  | **type**: str
  | **default**: localhost

name (required)
  Name of the LDAP Profile. Maps to 'ldap-profile' in the SEMP V1 API.

  | **type**: str
  | **aliases**: ldap_profile, ldap_profile_name

password (optional)
  Administrator password for Solace Broker.

  | **type**: str
  | **default**: admin

port (optional)
  Management port of Solace Broker.

  | **type**: int
  | **default**: 8080

secure_connection (optional)
  If true, use https rather than http.

  | **type**: bool
  | **default**: False

sempv1_settings (optional)
  JSON dictionary of additional configuration for the SEMP V1 API. Converted automatically to RPC XML. See Reference documentation.

  | **type**: dict

solace_cloud_api_token (optional)
  The API Token.

  Generate using Solace Cloud console with the appropriate permissions for the operations you want to enable.

  Either both (solace_cloud_api_token AND solace_cloud_service_id) must be provided or none.

  | **type**: str

solace_cloud_service_id (optional)
  The service id in Solace Cloud.

  Click on the service in Solace Cloud - the service id is in the URL.

  Either both (solace_cloud_api_token AND solace_cloud_service_id) must be provided or none.

  | **type**: str

solace_cloud_settings (optional)
  JSON dictionary of additional configuration for the Solace Cloud API. See Reference documentation.

  | **type**: dict
  | **aliases**: settings

state (optional)
  Target state.

  | **type**: str
  | **default**: present
  | **choices**: present, absent, enabled, disabled

timeout (optional)
  Connection timeout in seconds for the http request.

  | **type**: int
  | **default**: 10

username (optional)
  Administrator username for Solace Broker.

  | **type**: str
  | **default**: admin

x_broker (optional)
  Custom HTTP header with the broker virtual router id, if using a SEMPv2 Proxy/agent infrastructure.

  | **type**: str





Return Values
-------------

response
  The call/response to/from the API request.

  | **returned**: success
  | **type**: dict

msg
  The response from the HTTP call in case of error.

  | **returned**: error
  | **type**: dict

rc
  Return code. rc=0 on success, rc=1 on error.

  | **returned**: always
  | **type**: int
  | **sample**:

  .. code-block:: json

     {
     "error": {
       "rc": 1
     },
     "success": {
       "rc": 0
     }
   }


