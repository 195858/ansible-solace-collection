:github_url: https://github.com/solace-iot-team/ansible-solace-collection/tree/main/src/ansible_collections/solace/pubsub_plus/plugins/modules/solace_get_queues.py

.. _solace_get_queues_module:

solace_get_queues -- get list of queues
=======================================

Get a list of Queue objects.

Implements the config and monitor API.

Retrieves all objects that match the criteria defined in the 'where' clause and returns the fields defined in the 'select' parameter.




Examples
--------

.. code-block:: yaml+jinja

   
   hosts: all
   gather_facts: no
   any_errors_fatal: true
   collections:
   - solace.pubsub_plus
   module_defaults:
     solace_queue:
       host: "{{ sempv2_host }}"
       port: "{{ sempv2_port }}"
       secure_connection: "{{ sempv2_is_secure_connection }}"
       username: "{{ sempv2_username }}"
       password: "{{ sempv2_password }}"
       timeout: "{{ sempv2_timeout }}"
       msg_vpn: "{{ vpn }}"
     solace_get_queues:
       host: "{{ sempv2_host }}"
       port: "{{ sempv2_port }}"
       secure_connection: "{{ sempv2_is_secure_connection }}"
       username: "{{ sempv2_username }}"
       password: "{{ sempv2_password }}"
       timeout: "{{ sempv2_timeout }}"
       msg_vpn: "{{ vpn }}"
   tasks:
     - name: Create Queue
       solace_queue:
         name: foo
         state: present

     - name: Get queues
       solace_get_queues:
         api: config
         query_params:
           where:
               - "queueName==foo*"
         select:
               - "queueName"
               - "eventMsgSpoolUsageThreshold"
       register: result

     - name: Result Config API
       debug:
           msg:
               - "{{ result.result_list }}"
               - "{{ result.result_list_count }}"

     - name: Get queues
       solace_get_queues:
         api: monitor
         query_params:
           where:
               - "queueName==foo*"
         select:
               - "queueName"
               - "eventMsgSpoolUsageThreshold"
       register: result

     - name: Result Monitor API
       debug:
           msg:
               - "{{ result.result_list }}"
               - "{{ result.result_list_count }}"




Notes
-----

.. note::
   Reference Config: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/queue/getMsgVpnQueues.

   Reference Monitor: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/monitor/index.html#/queue/getMsgVpnQueues

   Sempv2 Config Reference: https://docs.solace.com/API-Developer-Online-Ref-Documentation/swagger-ui/config/index.html#/.



See Also
--------

.. seealso::

   - :ref:`solace_queue_module`



Parameters
----------

api (optional)
  The API the query should run against.

  | **type**: str
  | **default**: config
  | **choices**: config, monitor

host (optional)
  Hostname of Solace Broker.

  | **type**: str
  | **default**: localhost

msg_vpn (required)
  The message vpn.

  | **type**: str

password (optional)
  Administrator password for Solace Broker.

  | **type**: str
  | **default**: admin

port (optional)
  Management port of Solace Broker.

  | **type**: int
  | **default**: 8080

query_params (optional)
  The query parameters.

  | **type**: dict

  select (optional)
    Include in the response only selected attributes of the object, or exclude from the response selected attributes of the object. See the documentation for the select parameter.

    | **type**: list

  where (optional)
    Include in the response only objects where certain conditions are true. See the the documentation for the where parameter.

    Note: URL encoded automatically, you can safely use '/, <, <=, >, >=, != .. '

    | **type**: list


secure_connection (optional)
  If true, use https rather than http.

  | **type**: bool

timeout (optional)
  Connection timeout in seconds for the http request.

  | **type**: int
  | **default**: 10

username (optional)
  Administrator username for Solace Broker.

  | **type**: str
  | **default**: admin

x_broker (optional)
  Custom HTTP header with the broker virtual router id, if using a SEMPv2 Proxy/agent infrastructure.

  | **type**: str





Return Values
-------------

result_list
  The list of objects found containing requested fields. Results differ based on the api called.

  | **returned**: success
  | **type**: list
  | **sample**:

  .. code-block:: json

     {
     "config_api": {
       "result_list": [
         {
           "eventMsgSpoolUsageThreshold": {
             "clearPercent": 50,
             "setPercent": 60
           },
           "queueName": "foo"
         }
       ]
     },
     "monitor_api": {
       "result_list": [
         {
           "accessType": "exclusive",
           "alreadyBoundBindFailureCount": 0,
           "averageRxByteRate": 0,
           "averageRxMsgRate": 0,
           "averageTxByteRate": 0,
           "averageTxMsgRate": 0,
           "bindRequestCount": 0,
           "bindSuccessCount": 0,
           "bindTimeForwardingMode": "store-and-forward",
           "clientProfileDeniedDiscardedMsgCount": 0,
           "consumerAckPropagationEnabled": true,
           "createdByManagement": true,
           "deadMsgQueue": "#DEAD_MSG_QUEUE",
           "deletedMsgCount": 0,
           "destinationGroupErrorDiscardedMsgCount": 0,
           "disabledBindFailureCount": 0,
           "disabledDiscardedMsgCount": 0,
           "durable": true,
           "egressEnabled": true,
           "eventBindCountThreshold": {
             "clearPercent": 60,
             "setPercent": 80
           }
         }
       ]
     }
   }

result_list_count
  Number of items in result_list.

  | **returned**: success
  | **type**: int
  | **sample**:

  .. code-block:: json

     {
     "result_list_count": 2
   }


